# iOS/iPad PWA 验证清单

## ✅ 部署前检查

### 代码修改
- [x] 添加了 iOS meta 标签
- [x] 添加了 apple-touch-icon 链接
- [x] 添加了启动画面配置
- [x] 添加了 browserconfig.xml
- [x] 更新了 viewport 配置
- [x] 本地构建成功

### 文档
- [x] 创建了 iOS 安装指南
- [x] 创建了修复总结
- [x] 创建了验证清单

### 代码提交
- [x] 代码已 push 到 GitHub
- [x] GitHub Actions 已启动
- [x] Vercel 部署已启动

---

## 🧪 部署后验证步骤

### 第 1 步: 等待部署完成
- [ ] Vercel 构建成功
- [ ] Cloud Run 部署成功
- [ ] 应用已上线

**预计时间**: 10-15 分钟

### 第 2 步: 在 iPhone 上测试

1. **打开 Safari**
   - [ ] Safari 应用已打开

2. **访问应用**
   - [ ] 输入 https://record.borui.org
   - [ ] 应用已加载

3. **查找"添加到主屏幕"选项**
   - [ ] 点击底部分享按钮（方框带箭头）
   - [ ] 向下滑动菜单
   - [ ] 看到 **"添加到主屏幕"** 选项

4. **添加应用**
   - [ ] 点击 **"添加到主屏幕"**
   - [ ] 确认应用名称为 "Workspace"
   - [ ] 点击 **"添加"**

5. **验证应用**
   - [ ] 应用出现在主屏幕上
   - [ ] 应用图标显示正确
   - [ ] 点击应用能打开

### 第 3 步: 在 iPad 上测试

1. **打开 Safari**
   - [ ] Safari 应用已打开

2. **访问应用**
   - [ ] 输入 https://record.borui.org
   - [ ] 应用已加载

3. **查找"添加到主屏幕"选项**
   - [ ] 点击右上角分享按钮
   - [ ] 向下滑动菜单
   - [ ] 看到 **"添加到主屏幕"** 选项

4. **添加应用**
   - [ ] 点击 **"添加到主屏幕"**
   - [ ] 确认应用名称为 "Workspace"
   - [ ] 点击 **"添加"**

5. **验证应用**
   - [ ] 应用出现在主屏幕上
   - [ ] 应用图标显示正确
   - [ ] 点击应用能打开

### 第 4 步: 功能验证

#### 基本功能
- [ ] 应用能正常加载
- [ ] 能登录账户
- [ ] 能访问 dashboard
- [ ] 能访问所有菜单项

#### 离线功能
- [ ] 打开应用
- [ ] 关闭网络
- [ ] 应用仍能显示已缓存的页面
- [ ] 恢复网络后能同步数据

#### 推送通知
- [ ] 应用能请求通知权限
- [ ] 用户能启用通知
- [ ] 能接收推送通知

#### 全屏体验
- [ ] 应用以全屏模式运行
- [ ] 隐藏浏览器地址栏
- [ ] 隐藏浏览器工具栏

---

## 📊 测试结果记录

### iPhone 测试
```
日期: ___________
设备: iPhone ___________
iOS 版本: ___________

添加到主屏幕: [ ] 成功 [ ] 失败
应用打开: [ ] 成功 [ ] 失败
离线使用: [ ] 成功 [ ] 失败
推送通知: [ ] 成功 [ ] 失败

备注: _________________________________
```

### iPad 测试
```
日期: ___________
设备: iPad ___________
iOS 版本: ___________

添加到主屏幕: [ ] 成功 [ ] 失败
应用打开: [ ] 成功 [ ] 失败
离线使用: [ ] 成功 [ ] 失败
推送通知: [ ] 成功 [ ] 失败

备注: _________________________________
```

---

## 🔍 故障排除

### 问题 1: 看不到"添加到主屏幕"

**检查项**:
- [ ] 网络连接正常
- [ ] 应用已完全加载
- [ ] 使用的是 Safari 浏览器
- [ ] iOS 版本 >= 11.3

**解决方案**:
1. 清除 Safari 缓存
2. 重新加载页面
3. 尝试其他浏览器（Chrome）
4. 重启设备

### 问题 2: 添加后应用无法打开

**检查项**:
- [ ] 网络连接正常
- [ ] 应用未被删除
- [ ] 浏览器缓存已清除

**解决方案**:
1. 删除应用
2. 清除 Safari 缓存
3. 重新添加应用

### 问题 3: 应用图标显示不正确

**检查项**:
- [ ] 图标文件已加载
- [ ] 缓存已清除

**解决方案**:
1. 删除应用
2. 清除 Safari 缓存
3. 重新添加应用

---

## 📞 支持

如果遇到问题，请：

1. 检查网络连接
2. 清除浏览器缓存
3. 查看 [iOS PWA 安装指南](./iOS_PWA_INSTALLATION.md)
4. 查看 [PWA 故障排除](./PWA_TROUBLESHOOTING.md)

---

## ✨ 完成标准

所有以下项目都应该 ✅:

- [x] 代码已部署
- [ ] iPhone 上能添加到主屏幕
- [ ] iPad 上能添加到主屏幕
- [ ] 应用能正常运行
- [ ] 离线功能正常
- [ ] 推送通知正常

---

**最后更新**: 2025-10-22  
**状态**: ⏳ 等待部署完成

